<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>节点层级</title>
</head>
<body>
    <div class="father">我是father
        <div class="child">我是child</div>
    </div>
    <ol>
        <li>li1</li>
        <li>li2</li>
        <li>li3</li>
        <li>li4</li>
        <li>li5</li>
    </ol>
    <script>
        // 1. 获取fahter, 也就是child的父节点
        var child=document.querySelector('.child');
        console.log(child.parentNode);
        // 2. 获取child, 也就是father的子节点
        var father=document.querySelector('.father');
        console.log(father.childNodes); // 包含元素节点和文本节点, 在此例中, 输出: NodeList(3) [text, div.child, text]. 第一个是 我是father, 第二个是 div, 第三个是 换行
        // 可以通过nodeType筛选出father.childNodes的元素节点
        console.log(father.children); // 只包括元素节点, 在此例中, 输出: [div.child]
        // 3. 获取第一个子节点, 获取最后一个子节点
        var ol=document.querySelector('ol');
        console.log(ol.firstChild); // 包括元素节点和文本节点, 在此例中, 输出文本节点\n
        console.log(ol.lastChild); // 包括元素节点和文本节点, 在此例中, 输出文本节点\n
            // firstElementChild和lastElementChild可能存在兼容性问题
        console.log(ol.firstElementChild); // 元素节点, 在此例中, 输出 <li>li1</li>
        console.log(ol.lastElementChild); // 元素节点, 在此例中, 输出 <li>li5</li>
            // 以下写法没有兼容性问题
            console.log(ol.children[0]); // 元素节点, 在此例中, 输出 <li>li1</li>
            console.log(ol.children[ol.children.length-1]); // 元素节点, 在此例中, 输出 <li>li5</li>
        // 4. 获取兄弟节点
        var li=document.querySelector('li'); // ol中的第一个li: <li>li1</li>
        console.log(li.nextSibling); // 包括元素节点和文本节点, 在此例中, 输出文本节点\n

        // 5. 创建节点
            // 先初始化一个节点
        var a_new_li=document.createElement('li');
            // 再添加节点
        ol.appendChild(a_new_li);   // 效果是本来ol中有5个li, 执行完这行代码之后, 在后面追加一个新的li
            // 在指定元素前插入节点
        var a_new_li2=document.createElement('li');
        ol.insertBefore(a_new_li2, ol.children[2]);   // 在ol的第二个li前插入一个新的li

        // 6. 删除节点
        ol.removeChild(ol.children[ol.children.length-1]); //删除最后一个节点

        // 7. 复制节点
        // var a_new_li3=ol.children[0].cloneNode();  //浅拷贝, 复制标签
        // var a_new_li3=ol.children[0].cloneNode(false);  //浅拷贝, 复制标签
        var a_new_li3=ol.children[0].cloneNode(true);  //深拷贝, 复制标签和内容
        ol.appendChild(a_new_li3); 

    </script>

</body>
</html>